// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("bs-platform/lib/js/curry.js");
var React = require("react");
var Input$ReactHooksTemplate = require("./Input.bs.js");
var Label$ReactHooksTemplate = require("./Label.bs.js");

function getValue(e) {
  return e.target.value;
}

function updateFormState(state, field, value) {
  switch (field) {
    case 0 : 
        return /* record */[
                /* income */value,
                /* spending */state[/* spending */1],
                /* years */state[/* years */2]
              ];
    case 1 : 
        return /* record */[
                /* income */state[/* income */0],
                /* spending */value,
                /* years */state[/* years */2]
              ];
    case 2 : 
        return /* record */[
                /* income */state[/* income */0],
                /* spending */state[/* spending */1],
                /* years */value
              ];
    
  }
}

function Calc(Props) {
  var match = React.useReducer((function (state, action) {
          return updateFormState(state, action[0], action[1]);
        }), /* record */[
        /* income */"0",
        /* spending */"0",
        /* years */"0"
      ]);
  var dispatch = match[1];
  var state = match[0];
  var handleChange = function (name, value) {
    return Curry._1(dispatch, /* InputChange */[
                name,
                value
              ]);
  };
  var handleSubmit = function (e) {
    e.preventDefault();
    console.log(state);
    return /* () */0;
  };
  return React.createElement("form", {
              onSubmit: handleSubmit
            }, "FIRE Calculator", React.createElement(Label$ReactHooksTemplate.make, {
                  children: null
                }, "Income", React.createElement(Input$ReactHooksTemplate.make, {
                      onChange: handleChange,
                      name: /* Income */0,
                      value: state[/* income */0]
                    })), React.createElement(Label$ReactHooksTemplate.make, {
                  children: null
                }, "Spending", React.createElement(Input$ReactHooksTemplate.make, {
                      onChange: handleChange,
                      name: /* Spending */1,
                      value: state[/* spending */1]
                    })), React.createElement(Label$ReactHooksTemplate.make, {
                  children: null
                }, "Years", React.createElement(Input$ReactHooksTemplate.make, {
                      onChange: handleChange,
                      name: /* Years */2,
                      value: state[/* years */2]
                    })), React.createElement("button", undefined, "Calculate"));
}

var make = Calc;

exports.getValue = getValue;
exports.updateFormState = updateFormState;
exports.make = make;
/* react Not a pure module */
